<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise1</title>
    <style>
      .box {
        border: 1px solid blue;
      }
      .one {
        width: 600px;
        height: 100px;
        border: 1px solid green;
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <!-- 1.promise
    2. async / await
    3. fetch
    4. axios 라이브러리
    (1)=>{(2)=>{(3)=>{(4)=>{}}}} 함수중첩, 콜백지옥
    (1)=>(2)=>(3)=>(4) 나열식
    promise는 순서대로 진행할 수 있도록 / 원활한 진행을 위해 만들어졌다.
    promise는 생성자 함수입니다.
    new Promise(resolve,reject) 두개의 조건을 받아서 사용한다.
                (success, fail)
    변수에 할당해줘서 함수의 내부에서 사용할 수 있도록 하기
    생성자이기 때문에 변수에 할당한다.
    임의의 함수를 만들어서 그 함수 내부에서 사용할 수 있도록 해준다.

    setTimeOut(function(){},1000): 일정시간 후에 한번만 실행,
    setInterval(function(){},1000): 일정시간마다 한번씩 실행 
-->
    <div class="box"></div>
    <script>
      /* const fnc1 = () => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve("작업 success, 다음실행구문 연결");
          }, 1000);
        });
      };
      // console.log(fnc1());
      fnc1() // (1)
        .then(() => {})
        .then(() => {}); */
      const box = document.querySelector(".box");
      const fnc = () => {
        /* 시작하는 함수에서 promise 불러와서 resolve 연결하기 */
        return new Promise((resolve, resect) => {
          //   resolve();
          resect();
        });
      };
      fnc()
        .then(() => {
          /* 선행적으로 함수 연결 */
          let makeDiv = document.createElement("div");
          makeDiv.setAttribute("class", "one");
          makeDiv.innerText = "1";
          box.append(makeDiv);
        })
        .then(() => {
          /* 선행적으로 함수 연결 */
          let makeDiv = document.createElement("div");
          makeDiv.setAttribute("class", "one");
          makeDiv.innerText = "2";
          box.append(makeDiv);
        })
        .then(() => {
          /* 선행적으로 함수 연결 */
          let makeDiv = document.createElement("div");
          makeDiv.setAttribute("class", "one");
          makeDiv.innerText = "3";
          box.append(makeDiv);
        })
        .catch((error) => {
          /* 에러 출력 */
          console.log("error");
        });
    </script>
  </body>
</html>
